<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <title>Restraunt Register </title>
    <script src="https://kit.fontawesome.com/a740978d7b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../Css/Register.css">
    <script>

    $(function() {
      $("#registration-form").submit(function(e) {

        e.preventDefault();
        var username = $("input[name='username']",this).val();
        var email = $("input[name='email']",this).val();
        var password = $("input[name='password']",this).val();

        var data = {"username":username, "email":email, "password":password}

        $.ajax({
          url: "http://localhost:8090/restaurant/user/register",
          type: 'post',
          contentType: 'application/json',
          data: JSON.stringify(data),
          success: (response) => {
            console.log(response);
            alert("Registration Successful!!! Please login to continue.");
            window.location.href = 'login.html';
          },
          error:(e)=>{
            console.log(e);
            alert("Something went wrong.");
          }
        });
      });
    });

    </script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-xl-9 mx-auto">
        <div class="card card-signin flex-row my-5">
          <div class="card-img-left d-none d-md-flex">
             <!-- Background image for card set in CSS! -->
          </div>
          <div class="card-body">
            <h1 id="ffhead" class="login-heading mb-4 text-center"><a href="../Html/home.html" style="color: rgb(53, 51, 50);text-decoration: none;font-family: 'Pacifico', cursive;" >Friends & Family</a></h1>
            <h5 class="card-title text-center">Register</h5>
            <form class="form-signin" id="registration-form">
              <div class="form-label-group">
                <input type="text" id="inputUserame" name="username" class="form-control" placeholder="Username" required autofocus>
                <label for="inputUserame">Username</label>
              </div>

              <div class="form-label-group">
                <input type="email" id="inputEmail" name="email" class="form-control" placeholder="Email address" required>
                <label for="inputEmail">Email address</label>
              </div>
              
              <hr>

              <div class="form-label-group">
                <input type="password" id="inputPassword" name="password" class="form-control" placeholder="Password" required>
                <label for="inputPassword">Password</label>
              </div>
              
              <div class="form-label-group">
                <input type="password" id="inputConfirmPassword" class="form-control" placeholder="Password" required>
                <label for="inputConfirmPassword">Confirm password</label>
              </div>

              <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Register</button>
              <a class="d-block text-center mt-2 small" href="./login.html">Sign In</a>
              <hr class="my-4">
              <button class="btn btn-lg btn-google btn-block text-uppercase" type="submit" ><i class="fab fa-google mr-2"></i> Sign up with Google</button>
              <button class="btn btn-lg btn-facebook btn-block text-uppercase" type="submit"><i class="fab fa-facebook-f mr-2"></i> Sign up with Facebook</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>